<Window x:Class="RamPressureAnalyzer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:RamPressureAnalyzer.ViewModels"
        mc:Ignorable="d"
        Title="RAM Pressure Analyzer"
        Height="620" Width="480"
        ResizeMode="CanResizeWithGrip">

    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    <Grid Margin="15">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="4*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#F0F2F5" BorderBrush="#D1D5DB" BorderThickness="1" CornerRadius="6" Padding="12" Margin="0,0,0,722" Grid.ColumnSpan="2">
            <StackPanel>
                <TextBlock Text="측정 팁 (Quick Tips)" FontWeight="Bold" FontSize="14" Foreground="#374151" Margin="0,0,0,10"/>

                <TextBlock TextWrapping="Wrap" Margin="0,0,0,8" Foreground="#4B5563" FontSize="12" LineHeight="18">
                    <Run FontWeight="Bold" Text="1. 로딩 끝난 후 측정 (Measure after loading)" Foreground="#111827"/>
                    <LineBreak/>
                    <Run Text="게임/프로그램 로딩 중에는 수치가 튈 수 있습니다. 로딩이 끝나고 시작하세요."/>
                    <LineBreak/>
                    <Run Text="(Metrics can spike during startup. Start logging after the game/app has fully loaded.)" FontStyle="Italic" Foreground="#6B7280"/>
                </TextBlock>

                <TextBlock TextWrapping="Wrap" Foreground="#4B5563" FontSize="12" LineHeight="18">
                    <Run FontWeight="Bold" Text="2. 남은 용량의 함정 (Don't trust 'Available RAM')" Foreground="#111827"/>
                    <LineBreak/>
                    <Run Text="사용 가능 메모리가 남아있어도, 페이지 폴트(스와핑) 수치가 높으면 램 부족 상태입니다."/>
                    <LineBreak/>
                    <Run Text="(Even if RAM seems available, high 'Page Faults' indicate memory pressure. Watch the fault rate!)" FontStyle="Italic" Foreground="#6B7280"/>
                </TextBlock>
            </StackPanel>
        </Border>

        <TextBlock
                   Text="{Binding StatusMessage}"
                   FontSize="16" FontWeight="Bold" Foreground="#111827"
                   HorizontalAlignment="Left" Margin="0,245,0,681" Grid.ColumnSpan="2" Width="450" />

        <Grid Margin="0,281,0,621" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="10"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" 
                    Content="Start Logging"
                    Command="{Binding StartLogCommand}"
                    Height="45" FontSize="14" FontWeight="SemiBold"/>

            <Button Grid.Column="2" 
                    Content="Stop &amp; Analyze"
                    Command="{Binding StopAndAnalyzeCommand}"
                    Height="45" FontSize="14" FontWeight="SemiBold"/>
        </Grid>

        <GroupBox Header="Analysis Report" FontWeight="Bold" Foreground="#333333" Grid.ColumnSpan="2" Margin="0,341,0,373">
            <TextBox Text="{Binding AnalysisReport}"
                     IsReadOnly="True"
                     TextWrapping="Wrap"
                     VerticalScrollBarVisibility="Auto"
                     FontFamily="Consolas" 
                     FontSize="13"
                     Background="#FAFAFA"
                     BorderThickness="0"
                     Padding="10" Height="203"/>
        </GroupBox>

    </Grid>
</Window>